import Head from 'next/head'
import Carousel from '../components/Carousel'
import Image from 'next/image'
import Link from 'next/link'
import DummyImage from '../public/footer-image.png'
import LinkedoutImage from '../public/linkedout.png'
import PrelovedImage from '../public/preloved.png'
import { createClient } from 'contentful'
import Shot from '../components/Shot'
import styles from '../styles/Home.module.scss'
import Plus from '../public/plus-solid.svg'
// import Slider from "react-slick";
import MiniCarousel from '../components/MiniCarousel'
import { motion } from 'framer-motion';
import "../node_modules/slick-carousel/slick/slick-theme.css"
import "../node_modules/slick-carousel/slick/slick.css"
import Project1Image1 from '../public/Preloved1.png'
import Project1Image2 from '../public/Preloved2.png'
import Project1Image3 from '../public/Preloved3.png'
import Project2Image1 from '../public/Linkedout1.png'
import Project2Image2 from '../public/Linkedout2.png'
import Project2Image3 from '../public/Linkedout3.png'
import Container from 'react-bootstrap/Container';
import Button from 'react-bootstrap/Button';
import Row from 'react-bootstrap/Row';
import Col from 'react-bootstrap/Col';

export const getStaticProps = async () => {
  const client = createClient({
    space: process.env.NEXT_CONTENTFUL_SPACE_ID,
    accessToken: process.env.NEXT_CONTENTFUL_CDN_API
  })
  const res = await client.getEntries({ content_type: 'shot' })

  return {
    props: {
      shots: res.items,
    },
    revalidate: 1
  }
}

export default function Home({ shots }) {

  const titleLine1 = "Hello I'm Rachel."
  const titleLine2 = "I am a front-end developer from Brisbane."
  const titleLine3 = "I enjoy building interfaces and writing for tech."

  // variants for framer motion
  const sentence = {
    hidden: {
      opacity: 1,
    },
    visible: {
      transition: {
        opacity: 1,
        delay: .2,
        staggerChildren: 0.08
      }
    }
  }

  const letter = {
      hidden: {
        opacity: 0,
        // y: 100
      },
      visible: {
        // y: 0,
        opacity: 1,
      }
  }

  if (!shots.length) return ""
  return (
    <div className={styles.container}>
      <Head>
        <title>Rachel Wong Front end developer</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
        <meta name="msapplication-TileColor" content="#da532c" />
        <link rel="stylesheet" type="text/css" charset="UTF-8" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css" />
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css" />
        <meta name="theme-color" content="#ffffff" />
      </Head>
      <div className={ styles['home-header']}>
        <div className={styles['home-header__wrapper']}>
          <div className={styles['home-header__text']}>
            <div className={ styles['home-header__text-wrapper']}>
              <div className={styles['home-header__text__line']}>
                <motion.div className={styles['home-header__text__line-inner']}
                  initial="hidden"
                  animate="visible"
                  variants={sentence}>
                  {titleLine1.split("").map((char, index) => {
                    return (
                      <motion.span key={char + "-" + index} variants={letter}>{ char }</motion.span>
                    )
                  })}
                </motion.div>
              </div>
            </div>
          </div>
          <div className={styles['home-header__visuals']}>
            <Image src={DummyImage} width={230} height={300} />
          </div>
        </div>
        <Carousel />
      </div>

        <Container className={styles.projects}>
        <Row className={styles['projects-description']}>
          <h3 id="#projects">Projects</h3>
        </Row>
        <Row className={`${styles['project-row']} ${styles['project-row--odd']}`}>
          <Col lg={ 6} className={styles['project-imagewrapper']}>
            <MiniCarousel slide1={Project1Image1} slide2={Project1Image2} slide3={Project1Image3} />
          </Col>
          <Col lg={6}>
            <div className={styles['project-textwrapper__inner']}>
              <h3 className={styles['project__title'] }>Preloved</h3>
              <ul className={styles['project-tags']}>
                <li>
                <span className={styles['project-tags__plus']}>
                  <Image src={Plus} width={10} height={10} alt={"Techstack"} />
                </span>
                <span>Ruby</span></li>
                <li>              <span className={styles['project-tags__plus']}>
                  <Image src={Plus} width={10} height={10} alt={"Techstack"}/>
                </span>
                <span>Rails</span></li>
                <li>              <span className={styles['project-tags__plus']}>
                  <Image src={Plus} width={10} height={10} alt={"Techstack"}/>
                </span>
                <span>Gems</span></li>
                <li>              <span className={styles['project-tags__plus']}>
                  <Image src={Plus} width={10} height={10} alt={"Techstack"}/>
                </span>
                  <span>Bootstrap</span>
                </li>
              </ul>

              <p className={ styles['project__summary']}>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vehicula quis risus ut pharetra. Vivamus scelerisque lacus sed nibh venenatis viverra.</p>
            <div className={styles['project-actions']}>
                <Link href="/">
                  <a className={styles['project-actions__repolink']}> <span>See Source Code</span></a></Link>
                <Link href="/">
                  <a className={styles['project-actions__livelink']}>Go Live</a></Link>
              </div>
              </div>
          </Col>
        </Row>

        <Row className={`${styles['project-row']} ${styles['project-row--even']}`}>
          <Col lg={6}>
            <div className={styles['project-textwrapper__inner']}>
              <h3 className={styles['project__title'] }>LinkedOut</h3>
              <ul className={styles['project-tags']}>
                <li>
                  <span className={styles['project-tags__plus']}>
                    <Image src={Plus} width={10} height={10} alt={"Techstack"} />
                  </span>
                  <span>MongoDB</span></li>
                <li>
                  <span className={styles['project-tags__plus']}>
                    <Image src={Plus} width={10} height={10} alt={"Techstack"}/>
                  </span>
                  <span>Express</span></li>
                <li>
                  <span className={styles['project-tags__plus']}>
                    <Image src={Plus} width={10} height={10} alt={"Techstack"}/>
                  </span>
                  <span>React</span>
                </li>
                <li>
                  <span className={styles['project-tags__plus']}>
                    <Image src={Plus} width={10} height={10} alt={"Techstack"}/>
                  </span>
                  <span>Node</span></li>
              </ul>

              <p className={ styles['project__summary'] }>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vehicula quis risus ut pharetra. Vivamus scelerisque lacus sed nibh venenatis viverra.</p>
            <div className={styles['project-actions']}>
                <Link href="/">
                  <a className={styles['project-actions__repolink']}> <span>See Source Code</span></a></Link>
                <Link href="/">
                  <a className={styles['project-actions__livelink']}>Go Live</a></Link>
              </div>
              </div>
          </Col>

          <Col lg={ 6} className={styles['project-imagewrapper']}>
            <MiniCarousel slide1={Project2Image1} slide2={Project2Image2} slide3={Project2Image3} />
          </Col>

        </Row>
      </Container>

      <div className={styles['shots-container']}>
        <div className={styles['shots-summary']}>
          <h3 id="#shots">Practice Shots</h3>
          <p>I learn by making incremental steps, these are some of my smaller projects to help me build a solid foundation understanding of code flow, fundamental concepts and problem solving. </p>
        </div>
        <div className={styles['shots-wrapper']}>
          {shots.length > 0 && shots.map((shot, shotIndex) => (
            <Shot shot={shot} key={ shotIndex}/>
          ))}
        </div>
      </div>



    </div>
  )
}
